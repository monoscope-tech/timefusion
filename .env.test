# Test Configuration for TimeFusion
# This file contains MinIO test credentials for local development

# MinIO S3 Storage Configuration
AWS_ENDPOINT_URL=http://127.0.0.1:9000
AWS_REGION=us-east-1
AWS_S3_BUCKET=timefusion-tests
AWS_S3_ENDPOINT=http://127.0.0.1:9000
AWS_ALLOW_HTTP=true
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_SDK_LOAD_CONFIG=false

# PostgreSQL Wire Protocol Configuration
PGWIRE_PORT=12345
TIMEFUSION_TABLE_PREFIX=test

# No DynamoDB locking for tests (uses local file-based locking)
# AWS_S3_LOCKING_PROVIDER=

# Batch Processing Configuration
BATCH_INTERVAL_MS=100
MAX_BATCH_SIZE=100
ENABLE_BATCH_QUEUE=true
MAX_PG_CONNECTIONS=10
TIMEFUSION_BATCH_QUEUE_CAPACITY=100

# Delta Lake Configuration (optimized for testing)
TIMEFUSION_PAGE_ROW_COUNT_LIMIT=1000
TIMEFUSION_ZSTD_COMPRESSION_LEVEL=3
TIMEFUSION_MAX_ROW_GROUP_SIZE=10485760
TIMEFUSION_OPTIMIZE_TARGET_SIZE=52428800
TIMEFUSION_CHECKPOINT_INTERVAL=5
TIMEFUSION_VACUUM_RETENTION_HOURS=1

# Foyer Cache Configuration (smaller for tests)
TIMEFUSION_FOYER_MEMORY_MB=64
TIMEFUSION_FOYER_DISK_GB=1
TIMEFUSION_FOYER_TTL_SECONDS=60
TIMEFUSION_FOYER_CACHE_DIR=/tmp/timefusion_test_cache
TIMEFUSION_FOYER_SHARDS=4
TIMEFUSION_FOYER_FILE_SIZE_MB=8
TIMEFUSION_FOYER_STATS=true

# Logging Configuration
RUST_LOG=debug