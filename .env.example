# PostgreSQL Configuration Database (optional)
# If set, TimeFusion will load project configurations from this database
# Otherwise, it will use the AWS environment variables below
TIMEFUSION_CONFIG_DATABASE_URL=postgresql://user:password@host:port/database
# Configuration polling interval in seconds (default: 30)
TIMEFUSION_CONFIG_POLL_INTERVAL_SECS=30

# Direct S3 Configuration (used if TIMEFUSION_CONFIG_DATABASE_URL is not set)
AWS_REGION=
AWS_S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
PGWIRE_PORT=5432
TIMEFUSION_TABLE_PREFIX=timefusion

# Delta Lake DynamoDB Locking Configuration (optional but recommended for multi-writer scenarios)
# Set to 'dynamodb' to enable DynamoDB-based locking for Delta Lake operations
AWS_S3_LOCKING_PROVIDER=
# Name of the DynamoDB table to use for locking (must be created beforehand)
# Table should have 'key' as the partition key (String type)
DELTA_DYNAMO_TABLE_NAME=

# Batch insert configuration
# Interval between batch inserts in milliseconds (default: 1000)
BATCH_INTERVAL_MS=1000
# Maximum number of rows to process in a single batch (default: 1000)
MAX_BATCH_SIZE=1000
# Set to "true" to enable batching queue (default: false = direct insertion)
ENABLE_BATCH_QUEUE=false
# Maximum number of concurrent PostgreSQL connections (default: 100)
MAX_PG_CONNECTIONS=100

# DataFusion tracing configuration
# Enable/disable metrics recording in query traces (default: true)
TIMEFUSION_TRACING_RECORD_METRICS=true

# OpenTelemetry Configuration
# OTLP endpoint for sending traces (e.g., http://localhost:4317 for gRPC or http://localhost:4318 for HTTP)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
# Service name for this application
OTEL_SERVICE_NAME=timefusion
# Optional: Additional resource attributes (comma-separated key=value pairs)
OTEL_RESOURCE_ATTRIBUTES=environment=development,version=0.1.0
# Optional: Trace sampling ratio (0.0-1.0, default: 1.0)
OTEL_TRACES_SAMPLER_RATIO=1.0
# Optional: Export protocol (grpc or http/protobuf, default: grpc)
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
# Optional: Headers for authentication (e.g., api-key=your-key)
OTEL_EXPORTER_OTLP_HEADERS=
# Optional: Enable/disable tracing (default: true)
OTEL_SDK_DISABLED=false
